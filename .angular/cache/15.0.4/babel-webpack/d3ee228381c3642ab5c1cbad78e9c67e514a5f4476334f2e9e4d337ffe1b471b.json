{"ast":null,"code":"import { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom(...args) {\n  return source => {\n    let project;\n\n    if (typeof args[args.length - 1] === 'function') {\n      project = args.pop();\n    }\n\n    const observables = args;\n    return source.lift(new WithLatestFromOperator(observables, project));\n  };\n}\n\nclass WithLatestFromOperator {\n  constructor(observables, project) {\n    this.observables = observables;\n    this.project = project;\n  }\n\n  call(subscriber, source) {\n    return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n  }\n\n}\n\nclass WithLatestFromSubscriber extends OuterSubscriber {\n  constructor(destination, observables, project) {\n    super(destination);\n    this.observables = observables;\n    this.project = project;\n    this.toRespond = [];\n    const len = observables.length;\n    this.values = new Array(len);\n\n    for (let i = 0; i < len; i++) {\n      this.toRespond.push(i);\n    }\n\n    for (let i = 0; i < len; i++) {\n      let observable = observables[i];\n      this.add(subscribeToResult(this, observable, undefined, i));\n    }\n  }\n\n  notifyNext(_outerValue, innerValue, outerIndex) {\n    this.values[outerIndex] = innerValue;\n    const toRespond = this.toRespond;\n\n    if (toRespond.length > 0) {\n      const found = toRespond.indexOf(outerIndex);\n\n      if (found !== -1) {\n        toRespond.splice(found, 1);\n      }\n    }\n  }\n\n  notifyComplete() {}\n\n  _next(value) {\n    if (this.toRespond.length === 0) {\n      const args = [value, ...this.values];\n\n      if (this.project) {\n        this._tryProject(args);\n      } else {\n        this.destination.next(args);\n      }\n    }\n  }\n\n  _tryProject(args) {\n    let result;\n\n    try {\n      result = this.project.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Morgan/Desktop/DEV/angular/mbo-ez-angular-ez-http-client/node_modules/rxjs/_esm2015/internal/operators/withLatestFrom.js"],"names":["OuterSubscriber","subscribeToResult","withLatestFrom","args","source","project","length","pop","observables","lift","WithLatestFromOperator","constructor","call","subscriber","subscribe","WithLatestFromSubscriber","destination","toRespond","len","values","Array","i","push","observable","add","undefined","notifyNext","_outerValue","innerValue","outerIndex","found","indexOf","splice","notifyComplete","_next","value","_tryProject","next","result","apply","err","error"],"mappings":"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","sourcesContent":["import { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom(...args) {\n    return (source) => {\n        let project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        const observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nclass WithLatestFromOperator {\n    constructor(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    }\n}\nclass WithLatestFromSubscriber extends OuterSubscriber {\n    constructor(destination, observables, project) {\n        super(destination);\n        this.observables = observables;\n        this.project = project;\n        this.toRespond = [];\n        const len = observables.length;\n        this.values = new Array(len);\n        for (let i = 0; i < len; i++) {\n            this.toRespond.push(i);\n        }\n        for (let i = 0; i < len; i++) {\n            let observable = observables[i];\n            this.add(subscribeToResult(this, observable, undefined, i));\n        }\n    }\n    notifyNext(_outerValue, innerValue, outerIndex) {\n        this.values[outerIndex] = innerValue;\n        const toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            const found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    }\n    notifyComplete() {\n    }\n    _next(value) {\n        if (this.toRespond.length === 0) {\n            const args = [value, ...this.values];\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    }\n    _tryProject(args) {\n        let result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}